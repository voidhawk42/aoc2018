p←{⍵[⍋⍵]}{⍎¨⍵(∊⊆⊣)⎕D}¨⊃⎕nget'p4.txt'1
g←∪0~⍨(↑p)[;6] ⋄ m←0⍴⍨60,⍨≢g ⋄ a l i←0
{6=≢⍵:i⊢←g⍳6⌷⍵ ⋄ a:a⊢←0⊣m[i∘,¨l+⍳l-⍨5⌷⍵]+←1 ⋄ l⊢←5⌷⍵⊣a⊢←1}¨p
{g[⍵]×1-⍨(⊢⍳⌈/)m[⍵;]}(⊢⍳⌈/)+/m ⍝ part 1
{(⍵-1)×⍺⌷g}/⊃⍸m=⌈/⌈⌿m ⍝ part 2
